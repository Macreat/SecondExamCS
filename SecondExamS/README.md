README - Supplementary Final Exam - Arithmetic Operations System This project implements an arithmetic operations system using an STM32, with the following functionalities:

Entry of values ​​using a hexadecimal keyboard. Arithmetic operation selection via UART communication. Show results on an OLED screen. LED indicator to show the system status based on the operation result. Evaluation Criteria Functionality (60%): Each functional requirement has equal weighting. Code Architecture (10%): Proper use of interrupts, peripherals and external libraries. Optimization (10%): Optimization of energy consumption and efficient use of memory. System Requirements Non-Functional Requirements LED Indicator: The system uses an LED connected to the board to indicate the status of the calculation. Hexadecimal Keyboard: An external keyboard is used for entry of numbers. Debug Port (UART): Serial communication with a PC using USART2 set to 115200 baud. OLED screen: Display of values, operations and results on an OLED screen connected via I2C. Functional Requirements Entering Values ​​via Keyboard:
zzzzz
The keypad accepts two numbers of up to 3 digits each. Basic input validation to ensure correct numbers are captured. Operation Selection via USART2:

Through the UART interface, the user selects the arithmetic operation. '+' for addition '-' for subtraction '\*' for multiplication '/' for division The operator is displayed on the OLED screen. Show Entries:

The system displays on the OLED screen the last two values ​​entered by the keyboard and the last operation received via UART. Perform the Calculation:

When the character '=' is received by the UART: The selected operation is performed between the two numbers entered. The result is displayed on the OLED screen. The result is also sent to the PC via UART. Reset Functionality:

Pressing the '#' key on the keyboard resets the input values ​​and clears the OLED display, leaving the system ready to receive new input. LED Status Indicator:

The LED turns ON if the calculation result is positive. The LED turns OFF if the result is zero or negative. Code Structure The code is divided into different sections to handle peripherals, inputs and system logic. Here the main functionalities and how they are implemented are summarized:

Initialization Peripherals such as GPIO, I2C and UART are initialized using the functions generated by STM32CubeMX. The OLED screen is initialized and cleared at the start of the program. A welcome message is displayed on the OLED screen. Input Values ​​and Keyboard Operators: Pressed keys are read through interrupts generated by pins configured as external interrupt inputs (EXTI). UART: Arithmetic operators (+, -, _, /) are read through UART interrupts using the HAL_UART_RxCpltCallback() function. Data Processing Entered numbers are stored in ring buffers using an implementation of ring_buffer. Logic is implemented to accumulate the digits in each buffer and reconstruct the integers when the input is complete. Arithmetic Operations Once numbers have been entered and an operator has been received, the system performs the selected arithmetic operation when the '=' character is received. The operation is executed within a switch based on the received operator. LED Status Indicator The system activates or deactivates an LED depending on the result of the operation: If the result is positive, the LED lights up. If the result is zero or negative, the LED turns off. OLED Screen Display The entered numbers, operator and final result are displayed on the OLED screen, using the SSD1306 library. Hardware Requirements STM32 Nucleo Board: We use the STM32 family with I2C for the OLED display and GPIO for keyboard reading and LED control. Hexadecimal Keyboard: Connects to the GPIO pins configured as inputs with interrupts. OLED screen (128x64): Used to display numbers, operator and results. LED: Connected to a GPIO output pin to display system status. STM32CubeMX Software Requirements: For peripheral configuration. HAL (Hardware Abstraction Layer): STM32 HAL libraries for peripheral management. SSD1306 Library: For communication with the OLED display. Keil uVision/STM32CubeIDE: Development tools to compile and load the code on the STM32 board. How to Use the System Power On: When you turn on the system, the OLED screen will display a welcome message. Enter Values: Use the keyboard to enter two numbers. The system will store up to 3 digits per number. Select Operation: Enter an arithmetic operator (+, -, _, /) using the UART port. Perform Calculation: Press the '=' character to perform the selected operation. The result will appear on the OLED screen and will be sent via UART. Reset: Press '#' on the keyboard to reset the entries and start a new operation. Conclusion This project demonstrates the integration of multiple peripherals and external devices into an STM32 system, providing a solution for performing basic arithmetic operations. Keyboard and UART inputs, along with OLED screen display, offer an intuitive user interface. The use of interrupts and circular buffers ensures efficient handling of inputs and operations.
